{"version":3,"file":"/public/js/time_logs/index.js","mappings":"4EAEO,SAASA,EAAYC,EAAOC,GAC/BC,QAAQC,IAAIH,IACZI,EAAAA,EAAAA,IAAcH,EAAc,WAAaD,EAAMK,OAAS,IAAML,EAAMM,WACxE,C,gDCFO,SAASC,EAAQC,EAAOC,GAC3B,IAAIC,EAAMF,EAAMG,YAAYF,GAI5B,OAFAG,EAAAA,EAAAA,KAEOF,CACX,C,iBCTO,SAASG,IACZC,EAAE,YAAYC,MAAK,WACfD,EAAEE,MAAMC,YAAY,IAAIA,YAAYD,KAAKE,aAC7C,GACJ,C,sDCFAJ,EAAEK,UAAUC,GAAG,QAAS,sBAAsB,WACvCC,QAAQ,oDACPP,EAAE,iBAAiBQ,QAAQ,SAC3BR,EAAE,6CAA6CC,MAAK,YAChDQ,EAAAA,EAAAA,QAAOT,EAAEE,MACb,IAER,G,0DCLAF,EAAEK,UAAUC,GAAG,QAAS,kBAAkB,WACtCN,EAAEU,KAAK,CACHC,IAAK,YACLC,OAAQ,OACRC,QAAS,CACL,eAAgBb,EAAE,2BAA2Bc,KAAK,YAEtDC,KAAMf,EAAE,gBAAgBgB,YACxB9B,MAAO,SAASA,IACZD,EAAAA,EAAAA,GAAYC,EAAO,yBACvB,EACA+B,QAAS,SAAUC,IACfzB,EAAAA,EAAAA,GAAQO,EAAE,iBAAkBA,EAAEkB,GAAQC,KAAK,kBAE3CnB,EAAE,6CAA6CC,MAAK,YAChDQ,EAAAA,EAAAA,QAAOT,EAAEE,MACb,GACJ,GAER,G,+CCpBAF,EAAEK,UAAUC,GAAG,QAAS,qBAAqB,WACtCC,QAAQ,2CACPP,EAAEU,KAAK,CACHC,IAAK,aAAeX,EAAEE,MAAMkB,QAAQ,MAAMD,KAAK,gBAAgBE,MAC/DT,OAAQ,SACRC,QAAS,CACL,eAAgBb,EAAE,2BAA2Bc,KAAK,YAEtD5B,MAAO,SAASA,IACZD,EAAAA,EAAAA,GAAYC,EAAO,yBACvB,EACA+B,QAAS,SAAUC,IACfzB,EAAAA,EAAAA,GAAQO,EAAE,oBAAqBA,EAAEkB,GACrC,GAGZ,G,sCCjBAlB,EAAEK,UAAUC,GAAG,QAAS,qBAAqB,WACzCN,EAAEU,KAAK,CACHC,IAAK,sBACLC,OAAQ,MACR1B,MAAO,SAASA,IACZD,EAAAA,EAAAA,GAAYC,EAAO,yBACvB,EACA+B,QAAS,SAAUK,GACf,IAAIC,EAAOlB,SAASmB,cAAc,KAClCD,EAAKE,aAAa,OAAQH,GAC1BC,EAAKE,aAAa,WAAY,IAC9BF,EAAKG,OACT,GAER,G,iBChBO,SAASC,EAASC,GACrB,IAAIC,EAAOD,EAAMd,KAAK,QAClBO,EAAMO,EAAMP,MAChBS,aAAaC,QAAQF,EAAMR,EAC/B,CAEO,SAASW,EAAUJ,GACtB,IAAIC,EAAOD,EAAMd,KAAK,QAClBO,EAAMS,aAAaG,QAAQJ,GAC/BD,EAAMP,IAAIA,EACd,CAEO,SAASZ,EAAOmB,GACnB,IAAIC,EAAOD,EAAMd,KAAK,QACtBgB,aAAaI,WAAWL,GACxBD,EAAMP,IAAI,GACd,C,qHCbO,SAASvB,KACZC,EAAAA,EAAAA,KAEAC,EAAE,6CAA6CC,MAAK,YAChD+B,EAAAA,EAAAA,WAAUhC,EAAEE,MAChB,IAEGF,EAAE,oBAAoBqB,QAAUrB,EAAE,kBAAkBqB,QACnDrB,EAAE,mBAAmBc,KAAK,UAAU,GACpCd,EAAE,iBAAiBmC,WAAW,UAEtC,C,0DCSAnC,EAAEK,UAAUC,GAAG,SAAU,iBAAiB,WAnB1C,IAA+B8B,IAoBLpC,EAAEE,MAnBxBF,EAAEU,KAAK,CACHC,IAAK,gCACLC,OAAQ,MACRC,QAAS,CACL,eAAgBb,EAAE,2BAA2Bc,KAAK,YAEtDC,KAAMqB,EAAKpB,YACX9B,MAAO,SAASA,IACZD,EAAAA,EAAAA,GAAYC,EAAO,uCACvB,EACA+B,QAAS,SAAUC,IACfzB,EAAAA,EAAAA,GAAQO,EAAE,oBAAqBA,EAAEkB,KACjCmB,EAAAA,EAAAA,OACAC,EAAAA,EAAAA,IAAiB,8CACrB,GAMR,G,0DCbAtC,EAAEK,UAAUC,GAAG,QAAS,qBAAqB,WAR7C,IAAqBiC,EACbxB,EAQJf,EAAEU,KAAK,CACHC,IAAK,sBACLC,OAAQ,OACRC,QAAS,CACL,eAAgBb,EAAE,2BAA2Bc,KAAK,YAEtDC,KAAM,CACFyB,SAhBSD,EAgBYvC,EAAE,oBAf3Be,EAAO,GACXwB,EAAMpB,KAAK,iBAAiBlB,MAAK,WAC7Bc,EAAK0B,KAAKzC,EAAEE,MAAMkB,QAAQ,MAAMD,KAAK,gBAAgBE,MACzD,IACON,IAaH7B,MAAO,SAASA,IACZD,EAAAA,EAAAA,GAAYC,EAAO,4BACvB,EACA+B,QAAS,SAAUC,IACfzB,EAAAA,EAAAA,GAAQO,EAAE,oBAAqBA,EAAEkB,KACjCmB,EAAAA,EAAAA,KACJ,GAER,G,iBCpBO,SAASK,IAEZ,OADW,IAAIC,MACHC,UAChB,C,OAbAD,KAAKE,UAAUD,SAAW,WACtB,IAAIE,EAAO5C,KAAK6C,cAAcC,WAC1BC,GAAM/C,KAAKgD,WAAW,GAAGF,WACzBG,EAAMjD,KAAKkD,UAAUJ,WACrBK,EAAKnD,KAAKoD,WAAWN,WACrBO,EAAKrD,KAAKsD,aAAaR,WAC3B,OAAOF,EAAO,KAAOG,EAAG,GAAGA,EAAG,IAAIA,EAAG,IAAM,KAAOE,EAAG,GAAGA,EAAG,IAAIA,EAAG,IAC9D,KAAOE,EAAG,GAAGA,EAAG,IAAIA,EAAG,IAAM,KAAOE,EAAG,GAAGA,EAAG,IAAIA,EAAG,GAC5D,ECNAvD,EAAEK,UAAUC,GAAG,QAAS,mBAAmB,WACvCN,EAAEE,MAAMY,KAAK,UAAU,GACvBd,EAAE,iBAAiBmC,WAAW,UAC9BnC,EAAE,oBAAoBqB,IAAIqB,KAAOlC,QAAQ,SAC7C,IAEAR,EAAEK,UAAUC,GAAG,QAAS,iBAAiB,WACrCN,EAAEE,MAAMY,KAAK,UAAU,GACvBd,EAAE,mBAAmBmC,WAAW,UAChCnC,EAAE,kBAAkBqB,IAAIqB,KAAOlC,QAAQ,SAC3C,G,8wBCZO,SAASiD,EAAYC,GACxB,IAAI3C,EAAO,GAOX,OANA2C,EAAGvC,KAAK,2BAA2BwC,IAAI,sBAAsB1D,MAAK,WAC9Dc,EAAK0B,KAAI,MAAT1B,EAAI,EAASf,EAAEE,MAAM0D,kBACzB,IACAF,EAAGvC,KAAK,mCAAmClB,MAAK,WAC5CD,EAAEE,MAAMY,KAAK,YAAY,EAC7B,IACOC,CACX,C,yCCJA,SAAS8C,EAAOjC,GACZ,IAAI8B,EAAK9B,EAAMR,QAAQ,oBAEvBpB,EAAEU,KAAK,CACHC,IAAK,aAAe+C,EAAGvC,KAAK,gBAAgBE,MAC5CT,OAAQ,MACRC,QAAS,CACL,eAAgBb,EAAE,2BAA2Bc,KAAK,YAEtDC,KAAM0C,EAAYC,GAClBxE,MAAO,SAASA,IACZD,EAAAA,EAAAA,GAAYC,EAAO,yBACvB,EACA+B,QAAS,SAAUC,IACfzB,EAAAA,EAAAA,GAAQO,EAAE,oBAAqBA,EAAEkB,KACjCmB,EAAAA,EAAAA,OACAC,EAAAA,EAAAA,IAAiB,gCACrB,GAER,CAEAtC,EAAEK,UAAUC,GAAG,SAAU,6KAA6K,WAClMuD,EAAO7D,EAAEE,MACb,IAEAF,EAAEK,UAAUC,GAAG,OAAQ,+CAA+C,WAClEuD,EAAO7D,EAAEE,MACb,G,iBChCO,SAASoC,EAAiBwB,GAC7B9D,EAAE,iBAAiBmB,KAAK,eAAe2C,KAAKA,GAC5CC,UAAUC,MAAMC,oBAAoBjE,EAAE,kBAAkBkE,MAC5D,CAEO,SAAS5E,EAAcwE,GAC1B9D,EAAE,cAAcmB,KAAK,eAAe2C,KAAKA,GACzCC,UAAUC,MAAMC,oBAAoBjE,EAAE,eAAekE,MACzD,CAEO,SAAS7B,IACZ0B,UAAUC,MAAMC,oBAAoBjE,EAAE,eAAemE,MACzD,C,sCCXIC,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaE,QAGrB,IAAIC,EAASN,EAAyBE,GAAY,CAGjDG,QAAS,CAAC,GAOX,OAHAE,EAAoBL,GAAUI,EAAQA,EAAOD,QAASJ,GAG/CK,EAAOD,OACf,CCrBAJ,EAAoBO,EAAI,CAACH,EAASI,KACjC,IAAI,IAAIC,KAAOD,EACXR,EAAoBU,EAAEF,EAAYC,KAAST,EAAoBU,EAAEN,EAASK,IAC5EE,OAAOC,eAAeR,EAASK,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,IAE1E,ECNDT,EAAoBU,EAAI,CAACK,EAAKC,IAAUL,OAAOnC,UAAUyC,eAAeC,KAAKH,EAAKC,GCClFhB,EAAoBmB,EAAKf,IACH,oBAAXgB,QAA0BA,OAAOC,aAC1CV,OAAOC,eAAeR,EAASgB,OAAOC,YAAa,CAAEC,MAAO,WAE7DX,OAAOC,eAAeR,EAAS,aAAc,CAAEkB,OAAO,GAAO,E,oBCD9DC,EAAQ,MACRA,EAAQ,MACRA,EAAQ,MACRA,EAAQ,KACRA,EAAQ,MACRA,EAAQ,MACRA,EAAQ,MACRA,EAAQ,MACRA,EAAQ,MAERC,OAAOC,OAAS,SAACC,IACbjG,EAAAA,EAAAA,IACJ,EAEAE,EAAEK,UAAUC,GAAG,SAAU,6CAA6C,YAClEqB,EAAAA,EAAAA,UAAS3B,EAAEE,MACf,G","sources":["webpack:///./resources/js/handle_errors.js","webpack:///./resources/js/refresh_block.js","webpack:///./resources/js/resize_textarea.js","webpack:///./resources/js/time_logs/index/clean_create_form.js","webpack:///./resources/js/time_logs/index/create.js","webpack:///./resources/js/time_logs/index/destroy.js","webpack:///./resources/js/time_logs/index/get_excel.js","webpack:///./resources/js/time_logs/index/localStorage.js","webpack:///./resources/js/time_logs/index/onload.js","webpack:///./resources/js/time_logs/index/set_date_interval.js","webpack:///./resources/js/time_logs/index/summarize.js","webpack:///./resources/js/date.js","webpack:///./resources/js/time_logs/index/time_buttons.js","webpack:///./resources/js/serialize_tr.js","webpack:///./resources/js/time_logs/index/update.js","webpack:///./resources/js/toasts.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///./resources/js/time_logs/index.js"],"sourcesContent":["import {showFailToast} from \"./toasts\";\n\nexport function handleError(error, infoMessage) {\n    console.log(error);\n    showFailToast(infoMessage + ' Ошибка ' + error.status + ' ' + error.statusText);\n}\n","import {documentOnLoad} from \"./time_logs/index/onload\";\n\n\nexport function refresh(block, replace){\n    let ret = block.replaceWith(replace); // Call replaceWith\n\n    documentOnLoad();\n\n    return ret;  // For chaining\n}\n","export function resizeTextArea(){\n    $('textarea').each(function(){\n        $(this).outerHeight(38).outerHeight(this.scrollHeight);\n    })\n}\n","import {forget} from \"./localStorage\";\n\n$(document).on('click', '#clean_create_form', function () {\n    if(confirm('Do you really want to clear the creation form?')) {\n        $('#end_time_log').trigger('click');\n        $('#create_form input, #create_form textarea').each(function () {\n            forget($(this));\n        })\n    }\n})\n","import {handleError} from \"../../handle_errors\";\nimport {refresh} from \"../../refresh_block\";\nimport {forget} from \"./localStorage\";\n\n$(document).on('click', '#create_button', function () {\n    $.ajax({\n        url: 'time_logs',\n        method: 'post',\n        headers: {\n            'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n        },\n        data: $('#create_form').serialize(),\n        error: function(error){\n            handleError(error, 'Time log create failed');\n        },\n        success: function (result) {\n            refresh($('#page_content'), $(result).find('#page_content'));\n\n            $('#create_form input, #create_form textarea').each(function () {\n                forget($(this));\n            })\n        }\n    })\n})\n","import {handleError} from \"../../handle_errors\";\nimport {refresh} from \"../../refresh_block\";\n\n$(document).on('click', '.destroy_time_log', function () {\n    if(confirm('Do you really want to delete time log?')){\n        $.ajax({\n            url: 'time_logs/' + $(this).closest('tr').find('.time_log_id').val(),\n            method: 'delete',\n            headers: {\n                'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n            },\n            error: function(error){\n                handleError(error, 'Time log delete failed');\n            },\n            success: function (result) {\n                refresh($('#time_logs_table'), $(result));\n            }\n        })\n    }\n})\n","import {handleError} from \"../../handle_errors\";\n\n$(document).on('click', '#get_excel_button', function () {\n    $.ajax({\n        url: 'time_logs/get_excel',\n        method: 'get',\n        error: function(error){\n            handleError(error, 'Export to Excel failed');\n        },\n        success: function (path) {\n            let link = document.createElement('a');\n            link.setAttribute('href', path);\n            link.setAttribute('download', '');\n            link.click();\n        }\n    })\n})\n","export function remember(input){\n    let name = input.attr('name');\n    let val = input.val();\n    localStorage.setItem(name, val);\n}\n\nexport function showValue(input){\n    let name = input.attr('name');\n    let val = localStorage.getItem(name);\n    input.val(val);\n}\n\nexport function forget(input){\n    let name = input.attr('name');\n    localStorage.removeItem(name);\n    input.val('');\n}\n","import {resizeTextArea} from \"../../resize_textarea\";\nimport {showValue} from \"./localStorage\";\n\nexport function documentOnLoad() {\n    resizeTextArea();\n\n    $('#create_form input, #create_form textarea').each(function () {\n        showValue($(this));\n    })\n\n    if($('#start_time_date').val() && !$('#end_time_date').val()){\n        $('#start_time_log').attr('hidden', true);\n        $('#end_time_log').removeAttr('hidden');\n    }\n}\n","import {handleError} from \"../../handle_errors\";\nimport {refresh} from \"../../refresh_block\";\nimport {hideFailToast, showSuccessToast} from \"../../toasts\";\n\nfunction updateCurrentLogsDate(date){\n    $.ajax({\n        url: 'time_logs/current_logs/dates/',\n        method: 'put',\n        headers: {\n            'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n        },\n        data: date.serialize(),\n        error: function(error){\n            handleError(error, 'Time log date interval update failed');\n        },\n        success: function (result) {\n            refresh($('#time_logs_table'), $(result));\n            hideFailToast();\n            showSuccessToast('Time log date interval successfully updated');\n        }\n    })\n}\n\n$(document).on('change', '.session-date', function () {\n    updateCurrentLogsDate($(this));\n})\n","import {handleError} from \"../../handle_errors\";\nimport {hideFailToast} from \"../../toasts\";\nimport {refresh} from \"../../refresh_block\";\n\nfunction getSelected(table){\n    let data = [];\n    table.find('input:checked').each(function () {\n        data.push($(this).closest('tr').find('.time_log_id').val());\n    });\n    return data;\n}\n\n$(document).on('click', '#summarize_button', function () {\n    $.ajax({\n        url: 'time_logs/summarize',\n        method: 'post',\n        headers: {\n            'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n        },\n        data: {\n            id_list: getSelected($('#time_logs_table'))\n        },\n        error: function(error){\n            handleError(error, 'Time log summarize failed');\n        },\n        success: function (result) {\n            refresh($('#time_logs_table'), $(result));\n            hideFailToast();\n        }\n    })\n})\n","Date.prototype.yyyymmdd = function() {\n    let yyyy = this.getFullYear().toString();\n    let MM = (this.getMonth()+1).toString(); // getMonth() is zero-based\n    let dd  = this.getDate().toString();\n    let hh = this.getHours().toString();\n    let mm = this.getMinutes().toString();\n    return yyyy + \"-\" + (MM[1]?MM:\"0\"+MM[0]) + \"-\" + (dd[1]?dd:\"0\"+dd[0]) +\n        \"T\" + (hh[1]?hh:\"0\"+hh[0]) + \":\" + (mm[1]?mm:\"0\"+mm[0]); // padding\n};\n\nexport function now() {\n    let date = new Date();\n    return date.yyyymmdd();\n}\n","import {now} from \"../../date\";\n\n$(document).on('click', '#start_time_log', function () {\n    $(this).attr('hidden', true);\n    $('#end_time_log').removeAttr('hidden');\n    $('#start_time_date').val(now()).trigger('change');\n})\n\n$(document).on('click', '#end_time_log', function () {\n    $(this).attr('hidden', true);\n    $('#start_time_log').removeAttr('hidden');\n    $('#end_time_date').val(now()).trigger('change');\n})\n","export function serializeTr(tr){\n    let data = [];\n    tr.find('input, textarea, select').not('.serialize-disable').each(function () {\n        data.push(...$(this).serializeArray());\n    });\n    tr.find('input, textarea, select, button').each(function (){\n        $(this).attr('disabled', true);\n    });\n    return data;\n}\n","import {serializeTr} from \"../../serialize_tr\";\nimport {handleError} from \"../../handle_errors\";\nimport {hideFailToast, showSuccessToast} from \"../../toasts\";\nimport {refresh} from \"../../refresh_block\";\n\nfunction update(input){\n    let tr = input.closest('tr.time_log_form');\n\n    $.ajax({\n        url: 'time_logs/' + tr.find('.time_log_id').val(),\n        method: 'put',\n        headers: {\n            'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n        },\n        data: serializeTr(tr),\n        error: function(error){\n            handleError(error, 'Time log update failed');\n        },\n        success: function (result) {\n            refresh($('#time_logs_table'), $(result));\n            hideFailToast();\n            showSuccessToast('Time log successfully updated');\n        }\n    })\n}\n\n$(document).on('change', '.time_log_form input:not(.serialize-disable):not([type=\"datetime-local\"]), .time_log_form textarea:not(.serialize-disable), .time_log_form select:not(.serialize-disable)', function () {\n    update($(this));\n})\n\n$(document).on('blur', '.time_log_form input[type=\"datetime-local\"]', function () {\n    update($(this));\n})\n","export function showSuccessToast(text) {\n    $('.toastSuccess').find('.toast-body').text(text);\n    bootstrap.Toast.getOrCreateInstance($('.toastSuccess')).show();\n}\n\nexport function showFailToast(text) {\n    $('.toastFail').find('.toast-body').text(text);\n    bootstrap.Toast.getOrCreateInstance($('.toastFail')).show();\n}\n\nexport function hideFailToast() {\n    bootstrap.Toast.getOrCreateInstance($('.toastFail')).hide();\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {documentOnLoad} from \"./index/onload\";\nimport {remember} from \"./index/localStorage\";\n\n\nrequire('./index/time_buttons');\nrequire('./index/create');\nrequire('./index/update');\nrequire('./index/destroy');\nrequire('./index/get_excel');\nrequire('./index/summarize');\nrequire('./index/localStorage');\nrequire('./index/clean_create_form');\nrequire('./index/set_date_interval');\n\nwindow.onload = (event) => {\n    documentOnLoad();\n};\n\n$(document).on('change', '#create_form input, #create_form textarea', function () {\n    remember($(this));\n})\n"],"names":["handleError","error","infoMessage","console","log","showFailToast","status","statusText","refresh","block","replace","ret","replaceWith","documentOnLoad","resizeTextArea","$","each","this","outerHeight","scrollHeight","document","on","confirm","trigger","forget","ajax","url","method","headers","attr","data","serialize","success","result","find","closest","val","path","link","createElement","setAttribute","click","remember","input","name","localStorage","setItem","showValue","getItem","removeItem","removeAttr","date","hideFailToast","showSuccessToast","table","id_list","push","now","Date","yyyymmdd","prototype","yyyy","getFullYear","toString","MM","getMonth","dd","getDate","hh","getHours","mm","getMinutes","serializeTr","tr","not","serializeArray","update","text","bootstrap","Toast","getOrCreateInstance","show","hide","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","d","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","hasOwnProperty","call","r","Symbol","toStringTag","value","require","window","onload","event"],"sourceRoot":""}