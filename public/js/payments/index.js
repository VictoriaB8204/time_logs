(()=>{var e={6099:(e,t,o)=>{"use strict";o.d(t,{S:()=>r});var n=o(8700);function r(e,t){console.log(e),(0,n.LJ)(t+" Ошибка "+e.status+" "+e.statusText)}},4028:()=>{function e(e){if(e.file){for(var t=atob(e.file),o=new Array(t.length),n=0;n<t.length;n++)o[n]=t.charCodeAt(n);var r=new Uint8Array(o),a=new Blob([r],{type:e.mime}),i=document.createElement("a");i.href=window.URL.createObjectURL(a),i.download=e.filename,document.body.appendChild(i),i.click(),document.body.removeChild(i)}else e.url&&(window.location.href=e.url)}$(document).on("click","#generate_invoice",(function(){console.log($("#billGenerationForm").serialize()),$.ajax({url:"/payments/generate_invoice",method:"post",data:$("#billGenerationForm").serialize(),success:function(t){e(t)},error:function(e){alert("Ошибка: "+e.responseText)}})})),$(document).on("click","#generate_act",(function(){console.log($("#billGenerationForm").serialize()),$.ajax({url:"/payments/generate_act",method:"post",data:$("#billGenerationForm").serialize(),success:function(t){e(t)},error:function(e){alert("Ошибка: "+e.responseText)}})}))},6954:(e,t,o)=>{"use strict";o.r(t);var n=o(6099);$(document).on("click","#get_payment_excel_button",(function(){$.ajax({url:"/payments/get_excel",method:"get",error:function(e){(0,n.S)(e,"Export to Excel failed")},success:function(e){var t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("download",""),t.click()}})}))},6178:(e,t,o)=>{"use strict";o.r(t);var n=o(6099),r=o(8700);var a=o(7543);function i(){$("textarea").each((function(){$(this).outerHeight(38).outerHeight(this.scrollHeight)})),$("#create_form input, #create_form textarea").each((function(){(0,a.showValue)($(this))})),$("#start_time_date").val()&&!$("#end_time_date").val()&&($("#start_time_log").attr("hidden",!0),$("#end_time_log").removeAttr("hidden"))}$(document).on("click",".payed_button",(function(){confirm("Do you really want to pay for this time?")&&$.ajax({url:"payments/pay_for_the_time/"+$(this).closest("tr").find(".user_id").val(),method:"post",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},error:function(e){(0,n.S)(e,"Paying failed")},success:function(e){var t,o;t=$("#users_table"),o=$(e),t.replaceWith(o),i(),(0,r.XA)("The time was successfully payed")}})}))},7543:(e,t,o)=>{"use strict";function n(e){var t=e.attr("name"),o=e.val();localStorage.setItem(t,o)}function r(e){var t=e.attr("name"),o=localStorage.getItem(t);e.val(o)}o.d(t,{remember:()=>n,showValue:()=>r})},8700:(e,t,o)=>{"use strict";function n(e){$(".toastSuccess").find(".toast-body").text(e),bootstrap.Toast.getOrCreateInstance($(".toastSuccess")).show()}function r(e){$(".toastFail").find(".toast-body").text(e),bootstrap.Toast.getOrCreateInstance($(".toastFail")).show()}o.d(t,{LJ:()=>r,XA:()=>n})}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,o),a.exports}o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e=o(7543);o(6954),o(6178),o(4028),window.onload=function(t){$('#billGenerationForm input:not("#bill_date"), #billGenerationForm textarea').each((function(){(0,e.showValue)($(this))})),$("#bill_date").val((new Date).toJSON().slice(0,10))},$(document).on("change","#billGenerationForm input, #billGenerationForm textarea",(function(){(0,e.remember)($(this))}))})()})();
//# sourceMappingURL=index.js.map