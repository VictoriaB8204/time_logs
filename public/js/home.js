(()=>{var t={6099:(t,e,o)=>{"use strict";o.d(e,{S:()=>n});var r=o(8700);function n(t,e){console.log(t),(0,r.LJ)(e+" Ошибка "+t.status+" "+t.statusText)}},8719:(t,e,o)=>{"use strict";o.d(e,{b:()=>n});var r=o(9553);function n(t,e){var o=t.replaceWith(e);return(0,r.p)(),o}},9553:(t,e,o)=>{"use strict";function r(){$("textarea").each((function(){console.log(this.scrollHeight),$(this).outerHeight(38).outerHeight(this.scrollHeight)}))}o.d(e,{p:()=>r})},1195:(t,e,o)=>{"use strict";o.r(e);var r=o(6099),n=o(8719);o(2346),o(7009),o(3393),o(156),o(8632),o(8298),$.ajax({url:"time_logs/",method:"get",error:function(t){(0,r.S)(t,"Time log reload failed")},success:function(t){(0,n.b)($("#page_content"),$(t))}})},7009:(t,e,o)=>{"use strict";o.r(e);var r=o(6099),n=o(8719);$(document).on("click","#create_button",(function(){$.ajax({url:"time_logs",method:"post",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},data:$("#create_form").serialize(),error:function(t){(0,r.S)(t,"Time log create failed")},success:function(t){(0,n.b)($("#page_content"),$(t))}})}))},156:(t,e,o)=>{"use strict";o.r(e);var r=o(6099),n=o(8719);$(document).on("click",".destroy_time_log",(function(){confirm("Do you really want to delete time log?")&&$.ajax({url:"time_logs/"+$(this).closest("tr").find(".time_log_id").val(),method:"delete",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},error:function(t){(0,r.S)(t,"Time log delete failed")},success:function(t){(0,n.b)($("#time_logs_table"),$(t))}})}))},8632:(t,e,o)=>{"use strict";o.r(e);var r=o(6099);$(document).on("click","#get_excel_button",(function(){$.ajax({url:"time_logs/get_excel",method:"get",error:function(t){(0,r.S)(t,"Export to Excel failed")},success:function(t){var e=document.createElement("a");e.setAttribute("href",t),e.setAttribute("download",""),e.click()}})}))},8298:(t,e,o)=>{"use strict";o.r(e);var r=o(6099),n=o(8700),i=o(8719);function a(t){var e=[];return t.find("input:checked").each((function(){e.push($(this).closest("tr").find(".time_log_id").val())})),e}$(document).on("click","#summarize_button",(function(){console.log(a($("#time_logs_table"))),$.ajax({url:"time_logs/summarize",method:"post",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},data:{id_list:a($("#time_logs_table"))},error:function(t){(0,r.S)(t,"Time log summarize failed")},success:function(t){(0,i.b)($("#time_logs_table"),$(t)),(0,n.QM)()}})}))},2346:(t,e,o)=>{"use strict";function r(){return(new Date).yyyymmdd()}o.r(e),Date.prototype.yyyymmdd=function(){var t=this.getFullYear().toString(),e=(this.getMonth()+1).toString(),o=this.getDate().toString(),r=this.getHours().toString(),n=this.getMinutes().toString();return t+"-"+(e[1]?e:"0"+e[0])+"-"+(o[1]?o:"0"+o[0])+"T"+(r[1]?r:"0"+r[0])+":"+(n[1]?n:"0"+n[0])},$(document).on("click","#start_time_log",(function(){$(this).attr("hidden",!0),$("#end_time_log").removeAttr("hidden"),$("#start_time_date").val(r())})),$(document).on("click","#end_time_log",(function(){$(this).attr("hidden",!0),$("#start_time_log").removeAttr("hidden"),$("#end_time_date").val(r())}))},3393:(t,e,o)=>{"use strict";function r(t){return function(t){if(Array.isArray(t))return n(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return n(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return n(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,r=new Array(e);o<e;o++)r[o]=t[o];return r}function i(t){var e=[];return t.find("input, textarea, select").not(".serialize-disable").each((function(){e.push.apply(e,r($(this).serializeArray()))})),e}o.r(e);var a=o(6099),s=o(8700),c=o(8719);$(document).on("change",".time_log_form input:not(.serialize-disable), .time_log_form textarea:not(.serialize-disable), .time_log_form select:not(.serialize-disable)",(function(){var t=$(this).closest("tr.time_log_form");$.ajax({url:"time_logs/"+t.find(".time_log_id").val(),method:"put",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},data:i(t),error:function(t){(0,a.S)(t,"Time log update failed")},success:function(t){(0,c.b)($("#time_logs_table"),$(t)),(0,s.QM)(),(0,s.XA)("Time log successfully updated")}})}))},8700:(t,e,o)=>{"use strict";function r(t){$(".toastSuccess").find(".toast-body").text(t),bootstrap.Toast.getOrCreateInstance($(".toastSuccess")).show()}function n(t){$(".toastFail").find(".toast-body").text(t),bootstrap.Toast.getOrCreateInstance($(".toastFail")).show()}function i(){bootstrap.Toast.getOrCreateInstance($(".toastFail")).hide()}o.d(e,{LJ:()=>n,QM:()=>i,XA:()=>r})}},e={};function o(r){var n=e[r];if(void 0!==n)return n.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,o),i.exports}o.d=(t,e)=>{for(var r in e)o.o(e,r)&&!o.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o(1195)})();
//# sourceMappingURL=home.js.map