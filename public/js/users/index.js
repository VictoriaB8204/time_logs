(()=>{var t={6099:(t,e,r)=>{"use strict";r.d(e,{S:()=>n});var o=r(8700);function n(t,e){console.log(t),(0,o.LJ)(e+" Ошибка "+t.status+" "+t.statusText)}},8719:(t,e,r)=>{"use strict";r.d(e,{b:()=>n});var o=r(9713);function n(t,e){var r=t.replaceWith(e);return(0,o._)(),r}},9553:(t,e,r)=>{"use strict";function o(){$("textarea").each((function(){$(this).outerHeight(38).outerHeight(this.scrollHeight)}))}r.d(e,{p:()=>o})},7543:(t,e,r)=>{"use strict";function o(t){var e=t.attr("name"),r=localStorage.getItem(e);t.val(r)}r.d(e,{showValue:()=>o})},9713:(t,e,r)=>{"use strict";r.d(e,{_:()=>s});var o=r(9553),n=r(7543);function s(){(0,o.p)(),$("#create_form input, #create_form textarea").each((function(){(0,n.showValue)($(this))})),$("#start_time_date").val()&&!$("#end_time_date").val()&&($("#start_time_log").attr("hidden",!0),$("#end_time_log").removeAttr("hidden"))}},8700:(t,e,r)=>{"use strict";function o(t){$(".toastSuccess").find(".toast-body").text(t),bootstrap.Toast.getOrCreateInstance($(".toastSuccess")).show()}function n(t){$(".toastFail").find(".toast-body").text(t),bootstrap.Toast.getOrCreateInstance($(".toastFail")).show()}function s(){bootstrap.Toast.getOrCreateInstance($(".toastFail")).hide()}r.d(e,{LJ:()=>n,QM:()=>s,XA:()=>o})},399:(t,e,r)=>{"use strict";r.r(e);var o=r(6099),n=r(8719);$(document).on("click",".destroy_user",(function(){confirm("Do you really want to delete user?")&&$.ajax({url:"users/"+$(this).closest("tr").find(".user_id").val(),method:"delete",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},error:function(t){(0,o.S)(t,"User delete failed")},success:function(t){(0,n.b)($("#users_table"),$(t))}})}))},436:(t,e,r)=>{"use strict";r.r(e);var o=r(6099),n=r(8719);$(document).on("click",".show_roles_button",(function(){$.ajax({url:"users/"+$(this).closest("tr").find(".user_id").val()+"/roles",method:"get",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},error:function(t){(0,o.S)(t,"Load user roles failed")},success:function(t){(0,n.b)($("#role_list"),$(t))}})}))},4260:(t,e,r)=>{"use strict";r.r(e);var o=r(6099),n=r(8700);$(document).on("change",".user_role",(function(){var t;$.ajax({url:"users/"+$(this).closest("#role_list").find("#user_id").val()+"/roles",method:"post",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},data:{roles:(t=[],$("#role_list .user_role:checked").each((function(){t.push($(this).val())})),t)},error:function(t){(0,o.S)(t,"Updating user roles failed")},success:function(){(0,n.XA)("User roles updated")}})}))},9976:(t,e,r)=>{"use strict";r.r(e);var o=r(6099),n=r(8700);function s(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,o=new Array(e);r<e;r++)o[r]=t[r];return o}var i=r(8719);$(document).on("change",".user_form input",(function(){var t,e;$.ajax({url:"users/"+$(this).closest("tr.user_form").find(".user_id").val(),method:"put",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},data:(t=$(this).closest("tr.user_form"),e=[],t.find("input, textarea, select").not(".serialize-disable").each((function(){e.push.apply(e,s($(this).serializeArray()))})),t.find("input, textarea, select, button").each((function(){$(this).attr("disabled",!0)})),e),error:function(t){(0,o.S)(t,"User update failed")},success:function(t){(0,i.b)($("#users_table"),$(t)),(0,n.QM)(),(0,n.XA)("User successfully updated")}})}))}},e={};function r(o){var n=e[o];if(void 0!==n)return n.exports;var s=e[o]={exports:{}};return t[o](s,s.exports,r),s.exports}r.d=(t,e)=>{for(var o in e)r.o(e,o)&&!r.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r(9976),r(399),r(436),r(4260)})();
//# sourceMappingURL=index.js.map